<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>縫隙</title>
    <link rel="stylesheet" href="../../assets/Css/book.css">
</head>
<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

<body>
    <div class="topbar">
        <a href="../index.html" id="logo"><img src="../../assets/Images/book.png"></a>
        <div class="wheresbook"><a href="#logo">書在哪</a></div>
        <div class="classify"><a href="../classify/classify.html">書籍分類</a></div>
        <div class="search" id="search">
            <input type="text" placeholder="搜尋...">
            <button type="button">搜尋</button>
        </div>
        <div class="iconlinks">
            <a href="../member/sign in.html"><img src="../../assets/Images/membericon.png"></a>
            <a href="../cart/cart.html"><img src="../../assets/Images/carticon.png"></a>
        </div>
        <div class="links">
            <a href="../bookshelf/bookshelf.html">我的書架</a>
            <a href="../order/order.html">我的訂單</a>
            <a href="../contact/contact.html">聯繫我們</a>
        </div>
    </div>

    <div class="book">
        <div class="bookimg">
            <img  src ="https://im2.book.com.tw/image/getImage?i=https://www.books.com.tw/img/001/095/18/0010951845.jpg&v=6405c14bk&w=348&h=348">
        </div>
        <div class="imformation">
            <table class="booktable">
                <tr>
                    <th>縫隙</th>
                </tr>
                
                <tr>
                    <td>作者：逢時</td>
                </tr>
                <tr>
                    <td>譯者：無</td>
                </tr>
                <tr>
                    <td>出版社：台灣角川</td>
                </tr>
                <tr>
                    <td>售價：300元</td>
                </tr>
                <tr>
                    <td>
                        
                        <div class="quantity-container">
                            <div class="quantity-btn" onclick="decreaseQuantity()">&lt;</div>
                            <div class="quantity-number"><input type="text" id="quantity" value="1" readonly></div>
                            <div class="quantity-btn" onclick="increaseQuantity()">&gt;</div>
                          </div>
                    </td>
                </tr>
            </table>
            <div class="buttons">
                <button onclick="showAlert1()">收藏</button>
                <button onclick="showAlert()">加入購物車</button>
                <a href="../cart/cart.html"><button>直接購買</button></a>
            </div>
        </div>
    </div>
    <div class="content">
        <h2>內容簡介</h2>
        <p>
            知名編劇作家逢時，大膽融合母愛與邪教命題，打造《咒》後本土全新恐怖殿堂級狂潮！<br>
            蘇方琪決心潛入道場，她想知道這個新興宗教來自何方？又為什麼會有這麼多信徒的子女喪生？這是意外巧合，還是被稱作「向老師」的教主向安婕，操縱鬼神，蓄意為之……？

        </p>
    </div>
    <div id="comment-section" class="content">
        <h2>商品評論區</h2>
        <table class="comment_table">
            <tr>
                <td>
                    <div class="text">jimlai0423(我)</div>
                    <div class="star" id="star-rating">
                    <!-- 找到所有的icon，並設立一個data-index，用來判斷點擊的是哪一個星星 -->
                    <iconify-icon
                      icon="material-symbols:star-outline"
                      width="40"
                      data-index="1"
                      class="star-icon"></iconify-icon>
                    <iconify-icon
                      icon="material-symbols:star-outline"
                      class="star-icon"
                      data-index="2"
                      width="40"></iconify-icon>
                    <iconify-icon
                      icon="material-symbols:star-outline"
                      class="star-icon"
                      data-index="3"
                      width="40"></iconify-icon>
                    <iconify-icon
                      icon="material-symbols:star-outline"
                      class="star-icon"
                      data-index="4"
                      width="40"></iconify-icon>
                    <iconify-icon
                      icon="material-symbols:star-outline"
                      class="star-icon"
                      data-index="5"
                      width="40"></iconify-icon>
                  </div>
                </td>
            </tr>
            <tr>
                <td><form id="comment-form">
                    <label><textarea cols="25" rows="10" wrap="hard" maxlength="150"></textarea></label>
                    <button type="button" onclick="addComment()">發表評論</button>
                </form></td>
            </tr>
        </table>

        <table class="comment_table">
            <tr><td><label name="user" id="user">llll</label></td></tr>
            <tr><td class="user_comment"><label name="comment" id="comment">讚讚讚讚讚</label></td></tr>
            <tr><td><label name="user" id="user">danny</label></td></tr>
            <tr><td class="user_comment"><label name="comment" id="comment">good!</label></td></tr></div>
        </table>
        
    </div>
    <footer>
        <p>&copy; 2023 書在哪 All Rights Reserved.</p>
    </footer>
    <script>
        function increaseQuantity() {
          var quantityInput = document.getElementById('quantity');
          var currentQuantity = parseInt(quantityInput.value, 10);
          quantityInput.value = currentQuantity + 1;
        }
      
        function decreaseQuantity() {
          var quantityInput = document.getElementById('quantity');
          var currentQuantity = parseInt(quantityInput.value, 10);
          if (currentQuantity > 1) {
            quantityInput.value = currentQuantity - 1;
          }
        }

        function addComment(){
            alert("發表成功!");
        }

        function showAlert() {
            alert("已加入購物車!");
          }
          function showAlert1() {
            alert("已加入書架!");
          }

          document.addEventListener("DOMContentLoaded", function () {
            // 找到最外層的div
            const starRating = document.getElementById("star-rating");
    
            // 找到所有的icon
            const starIcons = starRating.querySelectorAll(".star-icon");
    
            // 將所有的icon加上click事件
            starIcons.forEach((starIcon) => {
              starIcon.addEventListener("click", function () {
                // 找到點擊的icon的data-index 並轉成數字
                const clickedIndex = parseInt(this.getAttribute("data-index"));
    
                // starsIcons是一個陣列，所以可以用forEach來判斷 跑迴圈 全部都跑一遍
                starIcons.forEach((icon, index) => {
                  // 如果index小於點擊的index，就加上selected的class，並且改變icon
                  if (index < clickedIndex) {
                    icon.setAttribute("icon", "material-symbols:star");
                  }
                  // 如果index小於點擊的index，就加上selected的class，並且改變icon 變成空心
                  else {
                    icon.setAttribute("icon", "material-symbols:star-outline");
                  }
                });
    
                // 在這裏你可以將 clickedIndex 送到後端，並更新資料庫
    
                console.log("Selected Rating: " + clickedIndex);
              });
            });
          });
      </script>
</body>
</html>