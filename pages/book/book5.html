<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>潛水：深海的記憶</title>
    <link rel="stylesheet" href="../../assets/Css/book.css">
</head>
<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

<body>
    <!--topbar-->
    <div class="topbar">
        <a href="../index.html" id="logo"><img src="../../assets/Images/book.png"></a>
        <div class="wheresbook"><a href="#logo">書在哪</a></div>
        <div class="classify"><a href="../classify/classify.html">書籍分類</a></div>
        <div class="search" id="search">
            <input type="text" placeholder="搜尋...">
            <button type="button">搜尋</button>
        </div>
        <div class="iconlinks">
            <a href="../member/sign in.html"><img src="../../assets/Images/membericon.png"></a>
            <a href="../cart/cart.html"><img src="../../assets/Images/carticon.png"></a>
        </div>
        <div class="links">
            <a href="../bookshelf/bookshelf.html">我的書架</a>
            <a href="../order/order.html">我的訂單</a>
            <a href="../contact/contact.html">聯繫我們</a>
        </div>
    </div>

    <div class="book">
        <div class="bookimg">
            <img  src ="https://im2.book.com.tw/image/getImage?i=https://www.books.com.tw/img/001/096/88/0010968839.jpg&v=65097918k&w=348&h=348">
        </div>
        <div class="imformation">
            <table class="booktable">
                <tr>
                    <th>潛水：深海的記憶</th>
                </tr>
                <tr>
                    <td>作者：丹陽</td>
                </tr>
                <tr>
                    <td>譯者：莫莉</td>
                </tr>
                <tr>
                    <td>出版社：大樹林</td>
                    <td></td>
                </tr>
                <tr>
                    <td>售價：350元</td>
                </tr>
                <tr>
                    <td>
                        
                        <div class="quantity-container">
                            <div class="quantity-btn" onclick="decreaseQuantity()">&lt;</div>
                            <div class="quantity-number"><input type="text" id="quantity" value="1" readonly></div>
                            <div class="quantity-btn" onclick="increaseQuantity()">&gt;</div>
                          </div>
                    </td>
                </tr>
            </table>
            <div class="buttons">
                <button onclick="showAlert1()">收藏</button>
                <button onclick="showAlert()">加入購物車</button>
                <a href="../cart/cart.html"><button>直接購買</button></a>
            </div>
        </div>
    </div>
    <div class="content">
        <h2>內容簡介</h2>
        <p>
            《潛水》故事背景設定在「被大水淹沒的2057年首爾」，<br>
            少女宣率在首爾海底的廢墟裡找到有人類外貌的機器人。<br>
            覺醒的機器人叫做秀皓，她原本是人類，卻在死前接受腦部掃描，重生為機器人。<br>
            機器人秀皓彷彿是忘記喝下孟婆湯的亡者，記得過去的一切。<br>
            秀皓發現自己缺少四年記憶後，開始思考……<br>
            ──父母為何把她丟在那裡？是因為真正的秀皓康復了，所以不再需要她？<br>
            ──還是在那四年裡，真正的秀皓離世，所以製造了她，但為何不植入2038年之後的記憶呢？<br>
            ──還是父母製造了機器人，才發現無法取代女兒？<br>
            秀皓開始思考自己到底是人，還是機器？以及她為何而活？<br>
             
            最終，宣率明白自己從塑膠櫃裡拿出來的不是戰利品，也不是完好無缺的機器人，而是「尚未到來的過去」。宣率將陪秀皓一起潛入深海，解開這個埋藏的過去，這將為她們帶來何種衝擊呢？
             
        </p>
    </div>
    <div id="comment-section" class="content">
        <h2>商品評論區</h2>
        <table class="comment_table">
            <tr>
                <td>
                    <div class="text">jimlai0423(我)</div>
                    <div class="star" id="star-rating">
                    <!-- 找到所有的icon，並設立一個data-index，用來判斷點擊的是哪一個星星 -->
                    <iconify-icon
                      icon="material-symbols:star-outline"
                      width="40"
                      data-index="1"
                      class="star-icon"></iconify-icon>
                    <iconify-icon
                      icon="material-symbols:star-outline"
                      class="star-icon"
                      data-index="2"
                      width="40"></iconify-icon>
                    <iconify-icon
                      icon="material-symbols:star-outline"
                      class="star-icon"
                      data-index="3"
                      width="40"></iconify-icon>
                    <iconify-icon
                      icon="material-symbols:star-outline"
                      class="star-icon"
                      data-index="4"
                      width="40"></iconify-icon>
                    <iconify-icon
                      icon="material-symbols:star-outline"
                      class="star-icon"
                      data-index="5"
                      width="40"></iconify-icon>
                  </div>
                </td>
            </tr>
            <tr>
                <td><form id="comment-form">
                    <label><textarea cols="25" rows="10" wrap="hard" maxlength="150"></textarea></label>
                    <button type="button" onclick="addComment()">發表評論</button>
                </form></td>
            </tr>
        </table>

        <table class="comment_table">
            <tr><td><label name="user" id="user">llll</label></td></tr>
            <tr><td class="user_comment"><label name="comment" id="comment">讚讚讚讚讚</label></td></tr>
            <tr><td><label name="user" id="user">danny</label></td></tr>
            <tr><td class="user_comment"><label name="comment" id="comment">good!</label></td></tr></div>
        </table>
        
    </div>
    <footer>
        <p>&copy; 2023 書在哪 All Rights Reserved.</p>
    </footer>
    <script>
        function increaseQuantity() {
          var quantityInput = document.getElementById('quantity');
          var currentQuantity = parseInt(quantityInput.value, 10);
          quantityInput.value = currentQuantity + 1;
        }
      
        function decreaseQuantity() {
          var quantityInput = document.getElementById('quantity');
          var currentQuantity = parseInt(quantityInput.value, 10);
          if (currentQuantity > 1) {
            quantityInput.value = currentQuantity - 1;
          }
        }

        function addComment(){
            alert("發表成功!");
        }

        function showAlert() {
            alert("已加入購物車!");
          }
          function showAlert1() {
            alert("已加入書架!");
          }

          document.addEventListener("DOMContentLoaded", function () {
            // 找到最外層的div
            const starRating = document.getElementById("star-rating");
    
            // 找到所有的icon
            const starIcons = starRating.querySelectorAll(".star-icon");
    
            // 將所有的icon加上click事件
            starIcons.forEach((starIcon) => {
              starIcon.addEventListener("click", function () {
                // 找到點擊的icon的data-index 並轉成數字
                const clickedIndex = parseInt(this.getAttribute("data-index"));
    
                // starsIcons是一個陣列，所以可以用forEach來判斷 跑迴圈 全部都跑一遍
                starIcons.forEach((icon, index) => {
                  // 如果index小於點擊的index，就加上selected的class，並且改變icon
                  if (index < clickedIndex) {
                    icon.setAttribute("icon", "material-symbols:star");
                  }
                  // 如果index小於點擊的index，就加上selected的class，並且改變icon 變成空心
                  else {
                    icon.setAttribute("icon", "material-symbols:star-outline");
                  }
                });
    
                // 在這裏你可以將 clickedIndex 送到後端，並更新資料庫
    
                console.log("Selected Rating: " + clickedIndex);
              });
            });
          });
      </script>
</body>
</html>